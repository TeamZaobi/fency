<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>临床文本处理智能体系统 | 从RAG到集成多智能体</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- 字体加载 -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;700;900&family=Noto+Sans+SC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/6.4.0/css/all.min.css">
    <!-- GSAP & ScrollTrigger -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.5/ScrollTrigger.min.js"></script>
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        // 配置Tailwind
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['"Noto Sans SC"', 'sans-serif'],
                        serif: ['"Noto Serif SC"', 'serif'],
                    },
                    colors: {
                        primary: {
                            50: '#f0f9ff',
                            100: '#e0f2fe',
                            200: '#bae6fd',
                            300: '#7dd3fc',
                            400: '#38bdf8',
                            500: '#0ea5e9',
                            600: '#0284c7',
                            700: '#0369a1',
                            800: '#075985',
                            900: '#0c4a6e',
                        },
                        secondary: {
                            50: '#fdf2f8',
                            100: '#fce7f3',
                            200: '#fbcfe8',
                            300: '#f9a8d4',
                            400: '#f472b6',
                            500: '#ec4899',
                            600: '#db2777',
                            700: '#be185d',
                            800: '#9d174d',
                            900: '#831843',
                        },
                        dark: {
                            100: '#1e293b',
                            200: '#1a2134',
                            300: '#151b2c',
                            400: '#101624',
                            500: '#0c101c',
                        },
                    }
                }
            }
        }
    </script>
    <style>
        /* 自定义样式 */
        @keyframes gradientFlow {
            0% {
                background-position: 0% 50%;
            }
            50% {
                background-position: 100% 50%;
            }
            100% {
                background-position: 0% 50%;
            }
        }
        
        .gradient-text {
            background: linear-gradient(90deg, #0ea5e9, #7dd3fc, #0c4a6e);
            background-size: 200% auto;
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: gradientFlow 3s ease infinite;
        }
        
        .gradient-bg {
            background: linear-gradient(135deg, rgba(14, 165, 233, 0.15), rgba(125, 211, 252, 0.05));
        }
        
        .dark .gradient-bg {
            background: linear-gradient(135deg, rgba(14, 165, 233, 0.25), rgba(12, 74, 110, 0.1));
        }
        
        /* 首字下沉 */
        .first-letter-drop:first-letter {
            font-size: 3.5em;
            float: left;
            line-height: 0.8;
            margin-right: 0.1em;
            font-weight: 700;
            color: #0ea5e9;
        }
        
        .dark .first-letter-drop:first-letter {
            color: #7dd3fc;
        }
        
        /* 滚动条美化 */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: transparent;
        }
        
        ::-webkit-scrollbar-thumb {
            background: #bae6fd;
            border-radius: 4px;
        }
        
        .dark ::-webkit-scrollbar-thumb {
            background: #0369a1;
        }
        
        /* 卡片悬停效果 */
        .agent-card {
            transition: all 0.3s ease;
        }
        
        .agent-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px -5px rgba(14, 165, 233, 0.1), 0 8px 10px -6px rgba(14, 165, 233, 0.05);
        }
        
        .dark .agent-card:hover {
            box-shadow: 0 10px 25px -5px rgba(125, 211, 252, 0.1), 0 8px 10px -6px rgba(125, 211, 252, 0.05);
        }
        
        /* 代码块样式 */
        .code-block {
            font-family: "SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace;
            background-color: rgba(14, 165, 233, 0.05);
            border-radius: 0.375rem;
            border-left: 3px solid #0ea5e9;
            padding: 1rem;
            white-space: pre-wrap;
            overflow-x: auto;
        }
        
        .dark .code-block {
            background-color: rgba(12, 74, 110, 0.3);
            border-left: 3px solid #7dd3fc;
        }
        
        /* 引用样式 */
        blockquote {
            border-left: 3px solid #bae6fd;
            padding-left: 1rem;
            margin-left: 0;
            font-style: italic;
            color: #64748b;
        }
        
        .dark blockquote {
            border-left: 3px solid #0369a1;
            color: #94a3b8;
        }
        
        /* 表格样式 */
        .custom-table {
            border-collapse: separate;
            border-spacing: 0;
            width: 100%;
            border-radius: 0.5rem;
            overflow: hidden;
        }
        
        .custom-table th {
            background-color: rgba(14, 165, 233, 0.1);
            color: #0c4a6e;
            font-weight: 600;
            padding: 0.75rem 1rem;
            text-align: left;
        }
        
        .dark .custom-table th {
            background-color: rgba(7, 89, 133, 0.5);
            color: #7dd3fc;
        }
        
        .custom-table td {
            padding: 0.75rem 1rem;
            border-bottom: 1px solid rgba(14, 165, 233, 0.1);
        }
        
        .dark .custom-table td {
            border-bottom: 1px solid rgba(7, 89, 133, 0.3);
        }
        
        .custom-table tr:last-child td {
            border-bottom: none;
        }
        
        .custom-table tr:nth-child(even) {
            background-color: rgba(14, 165, 233, 0.03);
        }
        
        .dark .custom-table tr:nth-child(even) {
            background-color: rgba(7, 89, 133, 0.2);
        }
        
        /* 流程图样式 */
        .flow-chart-wrapper {
            position: relative;
            width: 100%;
            overflow: hidden;
        }
        
        .flow-line {
            stroke-dasharray: 1000;
            stroke-dashoffset: 1000;
        }
    </style>
</head>
<body class="antialiased font-sans bg-white dark:bg-dark-400 text-gray-800 dark:text-gray-200 transition-colors duration-300">
    <!-- 主导航 -->
    <nav class="fixed top-0 w-full z-50 bg-white/90 dark:bg-dark-300/90 backdrop-blur-md shadow-sm">
        <div class="container mx-auto px-4 md:px-6 py-4 flex justify-between items-center">
            <div class="flex items-center space-x-3">
                <svg class="w-8 h-8 text-primary-600 dark:text-primary-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M12 2a10 10 0 0 0-9.95 9h11.64L9.74 7.05a1 1 0 0 1 1.41-1.41l5.66 5.65a1 1 0 0 1 0 1.42l-5.66 5.65a1 1 0 0 1-1.41-1.41L13.69 13H2.05A10 10 0 1 0 12 2Z"/>
                </svg>
                <span class="font-serif text-lg font-bold">临床文本处理智能体系统</span>
            </div>
            <div class="flex items-center space-x-6">
                <a href="#intro" class="hidden md:block font-medium hover:text-primary-600 dark:hover:text-primary-300 transition-colors">概述</a>
                <a href="#agents" class="hidden md:block font-medium hover:text-primary-600 dark:hover:text-primary-300 transition-colors">智能体架构</a>
                <a href="#case-study" class="hidden md:block font-medium hover:text-primary-600 dark:hover:text-primary-300 transition-colors">案例分析</a>
                <a href="#visualizations" class="hidden md:block font-medium hover:text-primary-600 dark:hover:text-primary-300 transition-colors">可视化</a>
                <a href="#further-reading" class="hidden md:block font-medium hover:text-primary-600 dark:hover:text-primary-300 transition-colors">延伸阅读</a>
                <button id="theme-toggle" class="p-2 rounded-full hover:bg-gray-100 dark:hover:bg-dark-200 transition-colors">
                    <svg id="dark-icon" class="w-5 h-5 hidden dark:block" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                    <svg id="light-icon" class="w-5 h-5 block dark:hidden" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                </button>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <header id="hero" class="pt-32 pb-20 px-4 md:pt-40 md:pb-32 bg-gradient-to-br from-white via-blue-50 to-white dark:from-dark-400 dark:via-dark-300 dark:to-dark-400">
        <div class="container mx-auto max-w-5xl text-center">
            <h1 class="font-serif text-4xl md:text-6xl font-black mb-6 tracking-tight gradient-text">临床文本处理智能体实例</h1>
            <h2 class="text-xl md:text-2xl font-medium text-gray-600 dark:text-gray-300 mb-8">从 RAG 到集成多智能体系统的演进</h2>
            <div class="flex justify-center items-center mb-12">
                <div class="h-0.5 w-16 bg-primary-300 dark:bg-primary-700"></div>
                <svg class="w-8 h-8 mx-4 text-primary-500" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M9.59 4.59A2 2 0 1 1 11 8H2m10.59 11.41A2 2 0 1 0 14 16H2m15.73-8.27A2.5 2.5 0 1 1 19.5 12H2"></path>
                </svg>
                <div class="h-0.5 w-16 bg-primary-300 dark:bg-primary-700"></div>
            </div>
            <p class="text-lg md:text-xl text-gray-700 dark:text-gray-300 max-w-3xl mx-auto">
                探索如何构建医疗临床文本处理智能体系统，以提取非结构化医疗文本中的关键信息，
                从简单的 RAG 智能体到高度集成的多智能体协作框架。
            </p>
            <div class="mt-12 flex flex-col md:flex-row gap-4 justify-center">
                <a href="#agents" class="px-6 py-3 bg-primary-600 hover:bg-primary-700 text-white font-medium rounded-lg transition duration-300 transform hover:scale-105">
                    <i class="fas fa-robot mr-2"></i>探索智能体架构
                </a>
                <a href="#case-study" class="px-6 py-3 bg-white dark:bg-dark-200 text-primary-600 dark:text-primary-400 hover:bg-gray-50 dark:hover:bg-dark-100 font-medium rounded-lg border border-primary-300 dark:border-primary-800 transition duration-300 transform hover:scale-105">
                    <i class="fas fa-flask-vial mr-2"></i>查看案例分析
                </a>
            </div>
        </div>
    </header>

    <!-- 主要内容区域 -->
    <main class="container mx-auto px-4 py-12 max-w-6xl">
        <!-- 简介部分 -->
        <section id="intro" class="mb-24">
            <div class="mb-12">
                <h2 class="font-serif text-3xl font-bold mb-6 text-gray-900 dark:text-white">核心任务：临床文本处理</h2>
                <div class="gradient-bg rounded-xl p-6 md:p-8 shadow-lg">
                    <p class="text-lg first-letter-drop mb-4">
                        临床文本处理任务旨在从非结构化医学文本（如病程记录、出院小结）中识别医学实体（如疾病、症状、药品、检查）及其关系（如"药物 A 治疗疾病 B"），并将这些信息转化为结构化数据（如 JSON 格式），便于后续的临床分析、科研或系统应用。
                    </p>
                    <p class="text-lg mb-4">
                        这种处理依赖于大型语言模型 (LLM) 中形成的与医学实体和关系对应的计算回路 (Computational Circuits)。随着智能体架构的不断演进，我们能够构建出越来越强大的临床文本处理系统，提高信息提取的准确性、完整性和可靠性。
                    </p>
                    <p class="text-lg">
                        本文将介绍三种不同复杂度的智能体架构，从简单的 RAG 智能体到高度集成的多智能体系统，展示如何逐步增强智能体处理复杂临床文本的能力。
                    </p>
                </div>
            </div>
        </section>

        <!-- 智能体架构部分 -->
        <section id="agents" class="mb-24">
            <h2 class="font-serif text-3xl font-bold mb-10 text-gray-900 dark:text-white">智能体架构演进</h2>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <!-- 智能体 1: 简单的 RAG 智能体 -->
                <div id="agent-card-1" class="agent-card bg-white dark:bg-dark-200 rounded-xl overflow-hidden shadow-md border border-gray-100 dark:border-dark-100">
                    <div class="bg-primary-100 dark:bg-primary-900/30 p-4 flex items-center justify-between">
                        <h3 class="font-serif text-xl font-bold text-primary-800 dark:text-primary-300">简单的 RAG 智能体</h3>
                        <span class="text-sm px-3 py-1 bg-primary-200 dark:bg-primary-800 text-primary-800 dark:text-primary-200 rounded-full">基础</span>
                    </div>
                    <div class="p-6">
                        <p class="mb-4">
                            这是实现临床文本信息提取与结构化的最基础形式，主要利用检索增强生成（Retrieval-Augmented Generation, RAG）技术。
                        </p>
                        <h4 class="font-semibold text-primary-700 dark:text-primary-300 mb-2">核心组件</h4>
                        <ul class="mb-4 space-y-2">
                            <li class="flex items-start">
                                <i class="fas fa-brain mt-1 mr-2 text-primary-500"></i>
                                <span>LLM 核心：如 Claude 等具备强大自然语言理解能力的模型</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-search mt-1 mr-2 text-primary-500"></i>
                                <span>检索器：从知识库查找相关医学术语与定义</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-database mt-1 mr-2 text-primary-500"></i>
                                <span>知识库：存储医学本体、标准术语等</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-file-code mt-1 mr-2 text-primary-500"></i>
                                <span>提示模板：整合文本、上下文信息和任务指令</span>
                            </li>
                        </ul>
                        <div class="mt-6 flex flex-col">
                            <h4 class="font-semibold text-primary-700 dark:text-primary-300 mb-2">优势</h4>
                            <div class="flex items-center mb-1.5">
                                <i class="fas fa-check-circle text-green-500 mr-2"></i>
                                <span>实现相对简单</span>
                            </div>
                            <div class="flex items-center mb-1.5">
                                <i class="fas fa-check-circle text-green-500 mr-2"></i>
                                <span>通过 RAG 减少 LLM "幻觉"</span>
                            </div>
                            <div class="flex items-center">
                                <i class="fas fa-check-circle text-green-500 mr-2"></i>
                                <span>输出格式可控</span>
                            </div>
                        </div>
                        <div class="mt-4 flex flex-col">
                            <h4 class="font-semibold text-primary-700 dark:text-primary-300 mb-2">局限性</h4>
                            <div class="flex items-center mb-1.5">
                                <i class="fas fa-times-circle text-red-500 mr-2"></i>
                                <span>依赖知识库的质量和覆盖范围</span>
                            </div>
                            <div class="flex items-center mb-1.5">
                                <i class="fas fa-times-circle text-red-500 mr-2"></i>
                                <span>对复杂、隐含关系处理能力有限</span>
                            </div>
                            <div class="flex items-center">
                                <i class="fas fa-times-circle text-red-500 mr-2"></i>
                                <span>单一 LLM 处理整体任务易遗漏信息</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- 智能体 2: 多智能体协作系统 -->
                <div id="agent-card-2" class="agent-card bg-white dark:bg-dark-200 rounded-xl overflow-hidden shadow-md border border-gray-100 dark:border-dark-100">
                    <div class="bg-primary-100 dark:bg-primary-900/30 p-4 flex items-center justify-between">
                        <h3 class="font-serif text-xl font-bold text-primary-800 dark:text-primary-300">多智能体协作系统</h3>
                        <span class="text-sm px-3 py-1 bg-primary-200 dark:bg-primary-800 text-primary-800 dark:text-primary-200 rounded-full">进阶</span>
                    </div>
                    <div class="p-6">
                        <p class="mb-4">
                            通过多个专业化智能体的协作，实现更精确、更全面的临床文本处理，克服单智能体在复杂任务处理中的局限。
                        </p>
                        <h4 class="font-semibold text-primary-700 dark:text-primary-300 mb-2">系统角色</h4>
                        <ul class="mb-4 space-y-2">
                            <li class="flex items-start">
                                <i class="fas fa-user-tie mt-1 mr-2 text-primary-500"></i>
                                <span>协调智能体：系统的"总指挥"</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-tag mt-1 mr-2 text-primary-500"></i>
                                <span>实体与属性提取智能体：专注识别"名词"和"形容词"</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-link mt-1 mr-2 text-primary-500"></i>
                                <span>关系与事件抽取智能体：负责识别"动词"和实体间的"联系"</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-clock mt-1 mr-2 text-primary-500"></i>
                                <span>时间序列与治疗反应分析智能体：处理时间逻辑和效果评估</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-book mt-1 mr-2 text-primary-500"></i>
                                <span>文献检索与知识增强智能体："外援专家"</span>
                            </li>
                        </ul>
                        <div class="mt-6 flex flex-col">
                            <h4 class="font-semibold text-primary-700 dark:text-primary-300 mb-2">优势</h4>
                            <div class="flex items-center mb-1.5">
                                <i class="fas fa-check-circle text-green-500 mr-2"></i>
                                <span>任务明确分工，优化各个环节</span>
                            </div>
                            <div class="flex items-center mb-1.5">
                                <i class="fas fa-check-circle text-green-500 mr-2"></i>
                                <span>处理复杂推理的专门能力</span>
                            </div>
                            <div class="flex items-center">
                                <i class="fas fa-check-circle text-green-500 mr-2"></i>
                                <span>可靠性与可控性提升</span>
                            </div>
                        </div>
                        <div class="mt-4 flex flex-col">
                            <h4 class="font-semibold text-primary-700 dark:text-primary-300 mb-2">局限性</h4>
                            <div class="flex items-center mb-1.5">
                                <i class="fas fa-times-circle text-red-500 mr-2"></i>
                                <span>开发成本高</span>
                            </div>
                            <div class="flex items-center mb-1.5">
                                <i class="fas fa-times-circle text-red-500 mr-2"></i>
                                <span>协调机制复杂</span>
                            </div>
                            <div class="flex items-center">
                                <i class="fas fa-times-circle text-red-500 mr-2"></i>
                                <span>计算资源消耗大</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- 智能体 3: 集成了 MCP 的多智能体系统 -->
                <div id="agent-card-3" class="agent-card bg-white dark:bg-dark-200 rounded-xl overflow-hidden shadow-md border border-gray-100 dark:border-dark-100">
                    <div class="bg-primary-100 dark:bg-primary-900/30 p-4 flex items-center justify-between">
                        <h3 class="font-serif text-xl font-bold text-primary-800 dark:text-primary-300">集成 MCP 的多智能体系统</h3>
                        <span class="text-sm px-3 py-1 bg-primary-200 dark:bg-primary-800 text-primary-800 dark:text-primary-200 rounded-full">高级</span>
                    </div>
                    <div class="p-6">
                        <p class="mb-4">
                            在多智能体协作基础上，集成模型上下文协议（Model Context Protocol, MCP），实现与医院现有信息系统和外部工具的安全连接，带来质的飞跃。
                        </p>
                        <h4 class="font-semibold text-primary-700 dark:text-primary-300 mb-2">质变突破</h4>
                        <ul class="mb-4 space-y-2">
                            <li class="flex items-start">
                                <i class="fas fa-plug mt-1 mr-2 text-primary-500"></i>
                                <span>集成医院系统：与电子病历 (EHR)、实验室信息系统 (LIS) 对接</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-shield-alt mt-1 mr-2 text-primary-500"></i>
                                <span>标准协议：通过 MCP 安全、规范地调用外部资源</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-tools mt-1 mr-2 text-primary-500"></i>
                                <span>工具调用：连接药物相互作用数据库、临床指南库等</span>
                            </li>
                            <li class="flex items-start">
                                <i class="fas fa-sync-alt mt-1 mr-2 text-primary-500"></i>
                                <span>交叉验证：文本信息与系统记录相互核实</span>
                            </li>
                        </ul>
                        <div class="mt-6 flex flex-col">
                            <h4 class="font-semibold text-primary-700 dark:text-primary-300 mb-2">质的飞跃</h4>
                            <div class="flex items-center mb-1.5">
                                <i class="fas fa-check-circle text-green-500 mr-2"></i>
                                <span>从"文本解析"到"临床情境理解"</span>
                            </div>
                            <div class="flex items-center mb-1.5">
                                <i class="fas fa-check-circle text-green-500 mr-2"></i>
                                <span>从"信息提取"到"可信知识生成"</span>
                            </div>
                            <div class="flex items-center mb-1.5">
                                <i class="fas fa-check-circle text-green-500 mr-2"></i>
                                <span>从"被动响应"到"主动智能"</span>
                            </div>
                            <div class="flex items-center">
                                <i class="fas fa-check-circle text-green-500 mr-2"></i>
                                <span>从"结构化"到"可行动洞察"</span>
                            </div>
                        </div>
                        <div class="mt-4 flex flex-col">
                            <h4 class="font-semibold text-primary-700 dark:text-primary-300 mb-2">实施挑战</h4>
                            <div class="flex items-center mb-1.5">
                                <i class="fas fa-exclamation-triangle text-yellow-500 mr-2"></i>
                                <span>技术集成难度高</span>
                            </div>
                            <div class="flex items-center mb-1.5">
                                <i class="fas fa-exclamation-triangle text-yellow-500 mr-2"></i>
                                <span>数据标准化要求严格</span>
                            </div>
                            <div class="flex items-center">
                                <i class="fas fa-exclamation-triangle text-yellow-500 mr-2"></i>
                                <span>系统治理复杂性高</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 案例分析部分 -->
        <section id="case-study" class="mb-24">
            <h2 class="font-serif text-3xl font-bold mb-10 text-gray-900 dark:text-white">临床文本处理案例分析</h2>
            
            <div class="bg-white dark:bg-dark-200 rounded-xl shadow-lg overflow-hidden mb-12">
                <div class="p-6 md:p-8 border-b border-gray-100 dark:border-dark-100">
                    <h3 class="font-serif text-2xl font-bold mb-4 text-gray-900 dark:text-white">原始临床文本</h3>
                    <blockquote class="text-lg">
                        患者，男，68岁，因'进行性呼吸困难1周，加重伴咳嗽、咳痰2天'入院。既往有高血压病史10年，长期服用苯磺酸氨氯地平控制尚可；2型糖尿病史5年，使用二甲双胍治疗，血糖控制不佳（空腹血糖约 9.5 mmol/L）。否认心脏病史及药物过敏史。查体：T 37.2℃，P 98次/分，R 24次/分，BP 155/90 mmHg。神清，精神可。双肺底可闻及少量湿啰音。心脏听诊无殊。实验室检查示：BNP 850 pg/mL 升高。初步诊断：心力衰竭可能。予以呋塞米（速尿）利尿，螺内酯保钾，并继续原降压、降糖治疗。治疗2天后，患者呼吸困难较前缓解，咳嗽减轻，复查 BNP 降至 550 pg/mL。
                    </blockquote>
                </div>
                
                <!-- 处理结果标签页 -->
                <div class="border-b border-gray-100 dark:border-dark-100">
                    <div class="flex overflow-x-auto" id="result-tabs">
                        <button data-tab="tab1" class="result-tab-btn px-6 py-4 font-medium text-primary-600 dark:text-primary-400 border-b-2 border-primary-500 dark:border-primary-400 focus:outline-none">
                            简单 RAG 结果
                        </button>
                        <button data-tab="tab2" class="result-tab-btn px-6 py-4 font-medium text-gray-500 dark:text-gray-400 border-b-2 border-transparent hover:text-primary-600 dark:hover:text-primary-300 focus:outline-none">
                            多智能体协作结果
                        </button>
                        <button data-tab="tab3" class="result-tab-btn px-6 py-4 font-medium text-gray-500 dark:text-gray-400 border-b-2 border-transparent hover:text-primary-600 dark:hover:text-primary-300 focus:outline-none">
                            集成 MCP 结果
                        </button>
                    </div>
                </div>
                
                <!-- 结果内容 -->
                <div class="p-6 md:p-8">
                    <!-- Tab 1: 简单 RAG 结果 -->
                    <div id="tab1" class="result-tab">
                        <p class="text-sm text-gray-500 dark:text-gray-400 mb-4">简单 RAG 智能体通过检索增强，能识别基本医学实体，但难以处理复杂关系、时间信息和否定情境：</p>
                        <div class="code-block text-sm mb-6">
{
  "主要诊断初步考虑": "心力衰竭",
  "主要症状": ["呼吸困难", "咳嗽", "咳痰"],
  "相关既往史": ["高血压", "2型糖尿病"],
  "生命体征": {
    "体温": "37.2℃",
    "脉搏": "98次/分",
    "呼吸": "24次/分",
    "血压": "155/90 mmHg"
  },
  "阳性体征与发现": ["双肺底可闻及少量湿啰音"],
  "重要实验室检查": ["BNP 850 pg/mL"],
  "当前用药": ["苯磺酸氨氯地平", "二甲双胍", "呋塞米(速尿)", "螺内酯"],
  "治疗反应初步评估": null
}
                        </div>
                        <div class="bg-yellow-50 dark:bg-yellow-900/20 border-l-4 border-yellow-400 dark:border-yellow-600 p-4 rounded">
                            <h4 class="font-medium text-yellow-800 dark:text-yellow-400 mb-2"><i class="fas fa-exclamation-triangle mr-2"></i>主要局限</h4>
                            <ul class="space-y-1 text-yellow-700 dark:text-yellow-300 text-sm">
                                <li><i class="fas fa-angle-right mr-1"></i> 时间信息丢失："高血压病史10年"、"糖尿病史5年"中的时间跨度信息未提取</li>
                                <li><i class="fas fa-angle-right mr-1"></i> 状态描述/程度信息丢失："控制尚可"、"控制不佳"和血糖具体数值</li>
                                <li><i class="fas fa-angle-right mr-1"></i> 否定信息处理不当：未能体现"否认心脏病史及药物过敏史"</li>
                                <li><i class="fas fa-angle-right mr-1"></i> 治疗反应推断失败："治疗反应初步评估"字段为空值</li>
                            </ul>
                        </div>
                    </div>
                    
                    <!-- Tab 2: 多智能体协作结果 -->
                    <div id="tab2" class="result-tab hidden">
                        <p class="text-sm text-gray-500 dark:text-gray-400 mb-4">多智能体协作系统通过专业分工，显著提升了信息提取的深度和准确性：</p>
                        <div class="code-block text-sm mb-6">
{
  "患者信息": {
    "年龄": 68,
    "性别": "男"
  },
  "主诉": "进行性呼吸困难1周，加重伴咳嗽、咳痰2天",
  "初步诊断": [
    {
      "诊断名称": "心力衰竭",
      "确定性": "可能",
      "来源文本": "初步诊断：心力衰竭可能"
    }
  ],
  "症状": [
    {
      "症状名称": "呼吸困难",
      "状态": "进行性",
      "持续时间": "1周",
      "变化": "加重",
      "时间点": "入院前2天",
      "来源文本": "进行性呼吸困难1周，加重..."
    },
    {
      "症状名称": "咳嗽",
      "状态": "出现",
      "时间点": "入院前2天",
      "来源文本": "...加重伴咳嗽..."
    },
    {
      "症状名称": "咳痰",
      "状态": "出现",
      "时间点": "入院前2天",
      "来源文本": "...咳痰2天"
    }
  ],
  "既往史": [
    {
      "疾病名称": "高血压",
      "持续时间": "10年",
      "治疗药物": ["苯磺酸氨氯地平"],
      "控制状态": "尚可",
      "来源文本": "高血压病史10年，长期服用苯磺酸氨氯地平控制尚可"
    },
    {
      "疾病名称": "2型糖尿病",
      "持续时间": "5年",
      "治疗药物": ["二甲双胍"],
      "控制状态": "不佳",
      "相关检查": [{"检查名称": "空腹血糖", "值": "约 9.5", "单位": "mmol/L"}],
      "来源文本": "2型糖尿病史5年，使用二甲双胍治疗，血糖控制不佳（空腹血糖约 9.5 mmol/L）"
    }
  ],
  "否定信息": [
    {"类型": "病史", "内容": "心脏病史"},
    {"类型": "过敏史", "内容": "药物过敏史"}
  ],
  "生命体征": {
    "体温": {"值": "37.2", "单位": "℃"},
    "脉搏": {"值": "98", "单位": "次/分"},
    "呼吸": {"值": "24", "单位": "次/分"},
    "血压": {"值": "155/90", "单位": "mmHg"}
  },
  "重要实验室检查": [
    {"检查名称": "BNP", "值": "850", "单位": "pg/mL", "结果": "升高", "时间点": "入院时"}
  ],
  "当前治疗方案": [
    {"药物名称": "呋塞米", "别名": "速尿", "目的": "利尿"},
    {"药物名称": "螺内酯", "目的": "保钾"},
    {"药物名称": "苯磺酸氨氯地平", "目的": "继续原降压治疗"},
    {"药物名称": "二甲双胍", "目的": "继续原降糖治疗"}
  ],
  "治疗反应评估": [
    {
      "时间点": "治疗2天后",
      "症状变化": [
        {"症状名称": "呼吸困难", "变化": "缓解"},
        {"症状名称": "咳嗽", "变化": "减轻"}
      ],
      "检查变化": [
        {"检查名称": "BNP", "值": "550", "单位": "pg/mL", "变化趋势": "下降"}
      ],
      "评估结论": "治疗有效",
      "来源文本": "治疗2天后，患者呼吸困难较前缓解，咳嗽减轻，复查 BNP 降至 550 pg/mL。"
    }
  ]
}
                        </div>
                        <div class="bg-green-50 dark:bg-green-900/20 border-l-4 border-green-400 dark:border-green-600 p-4 rounded">
                            <h4 class="font-medium text-green-800 dark:text-green-400 mb-2"><i class="fas fa-check-circle mr-2"></i>关键突破</h4>
                            <ul class="space-y-1 text-green-700 dark:text-green-300 text-sm">
                                <li><i class="fas fa-angle-right mr-1"></i> 细粒度属性提取：准确捕捉时间、状态、程度等细节信息</li>
                                <li><i class="fas fa-angle-right mr-1"></i> 复杂关系识别：识别药物与治疗目的之间的关系</li>
                                <li><i class="fas fa-angle-right mr-1"></i> 否定信息处理：正确理解"否认心脏病史及药物过敏史"</li>
                                <li><i class="fas fa-angle-right mr-1"></i> 时序推理能力：分析治疗与症状/指标变化的时间关系，得出"治疗有效"的结论</li>
                            </ul>
                        </div>
                    </div>
                    
                    <!-- Tab 3: 集成 MCP 结果 -->
                    <div id="tab3" class="result-tab hidden">
                        <p class="text-sm text-gray-500 dark:text-gray-400 mb-4">集成 MCP 的多智能体系统通过与医院信息系统交互，实现了临床文本处理的质的飞跃：</p>
                        <div class="code-block text-sm mb-6">
{
  "患者信息": {
    "年龄": 68,
    "性别": "男",
    "EHR_ID": "PAT123456"
  },
  "主诉": "进行性呼吸困难1周，加重伴咳嗽、咳痰2天",
  "初步诊断": [
    {
      "诊断名称": "心力衰竭",
      "ICD10编码": "I50.9",
      "确定性": "可能",
      "EHR问题列表核实状态": "待确认/新增",
      "来源文本": "初步诊断：心力衰竭可能"
    }
  ],
  "症状": [
    {
      "症状名称": "呼吸困难",
      "状态": "进行性",
      "持续时间": "1周",
      "变化": "加重",
      "时间点": "入院前2天"
    }
    // 其他症状略...
  ],
  "既往史": [
    {
      "疾病名称": "高血压",
      "ICD10编码": "I10",
      "持续时间": "10年",
      "治疗药物": [
        {"药物名称": "苯磺酸氨氯地平", "ATC编码": "C08CA01"}
      ],
      "控制状态": "尚可"
    },
    {
      "疾病名称": "2型糖尿病",
      "ICD10编码": "E11.9",
      "持续时间": "5年",
      "治疗药物": [
        {"药物名称": "二甲双胍", "ATC编码": "A10BA02"}
      ],
      "控制状态": "不佳",
      "相关检查": [
        {
          "检查名称": "空腹血糖",
          "文本提及值": {"值": "约 9.5", "单位": "mmol/L"},
          "EHR最新值": {"值": "9.8", "单位": "mmol/L", "时间": "2021-01-15"},
          "趋势分析": "持续偏高"
        }
      ]
    }
  ],
  "否定信息": [
    {"类型": "病史", "内容": "心脏病史", "EHR核实": "一致"},
    {"类型": "过敏史", "内容": "药物过敏史", "EHR核实": "一致 - EHR记录: 无已知药物过敏"}
  ],
  "生命体征": {
    // 略...
  },
  "重要实验室检查": [
    {
      "检查名称": "BNP",
      "文本提及值": {"值": "850", "单位": "pg/mL", "结果": "升高"},
      "EHR记录值": {"值": "850", "单位": "pg/mL", "时间": "入院当天"},
      "参考范围": "0-100 pg/mL",
      "临床意义": "显著升高，提示心衰可能性大"
    }
  ],
  "当前治疗方案": [
    {"药物名称": "呋塞米", "别名": "速尿", "目的": "利尿", "ATC编码": "C03CA01"},
    {"药物名称": "螺内酯", "目的": "保钾", "ATC编码": "C03DA01"},
    {"药物名称": "苯磺酸氨氯地平", "目的": "继续原降压治疗", "ATC编码": "C08CA01"},
    {"药物名称": "二甲双胍", "目的": "继续原降糖治疗", "ATC编码": "A10BA02"}
  ],
  "潜在风险提示": [
      {"类型": "药物相互作用", "内容": "呋塞米与二甲双胍联用可能影响血糖控制，需监测", "严重等级": "中", "来源": "药物相互作用数据库"},
      {"类型": "用药禁忌/注意", "内容": "患者血压偏高(155/90mmHg)，继续使用苯磺酸氨氯地平合理。考虑BNP升高，心衰诊断可能，后续需评估肾功能以调整利尿剂及螺内酯剂量。", "来源": "临床指南知识库"}
  ],
  "治疗反应评估": [
    {
      "时间点": "治疗2天后",
      "症状变化": [
        // 略...
      ],
      "检查变化": [
        {
          "检查名称": "BNP",
          "文本提及值": {"值": "550", "单位": "pg/mL"},
          "EHR记录值": {"值": "550", "单位": "pg/mL", "时间": "治疗后第2天"},
          "变化趋势": "较入院时显著下降 (-300 pg/mL)",
          "临床意义": "提示治疗有效"
        }
      ],
      "评估结论": "初步治疗有效"
    }
  ]
}
                        </div>
                        <div class="bg-primary-50 dark:bg-primary-900/20 border-l-4 border-primary-400 dark:border-primary-600 p-4 rounded">
                            <h4 class="font-medium text-primary-800 dark:text-primary-400 mb-2"><i class="fas fa-lightbulb mr-2"></i>质的飞跃</h4>
                            <ul class="space-y-1 text-primary-700 dark:text-primary-300 text-sm">
                                <li><i class="fas fa-angle-right mr-1"></i> 标准化编码：自动添加 ICD10、ATC 等国际标准编码</li>
                                <li><i class="fas fa-angle-right mr-1"></i> 交叉验证：临床文本与 EHR 记录的交叉核实</li>
                                <li><i class="fas fa-angle-right mr-1"></i> 信息增强：补充了系统中的最新检查值、参考范围和临床意义</li>
                                <li><i class="fas fa-angle-right mr-1"></i> 潜在风险预警：主动识别药物相互作用和用药注意事项</li>
                                <li><i class="fas fa-angle-right mr-1"></i> 多维评估：基于综合数据和趋势分析的治疗反应评估</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- 可视化部分 -->
        <section id="visualizations" class="mb-24">
            <h2 class="font-serif text-3xl font-bold mb-10 text-gray-900 dark:text-white">核心概念可视化</h2>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <!-- 智能体架构演进图 -->
                <div class="bg-white dark:bg-dark-200 rounded-xl shadow-lg overflow-hidden h-full">
                    <div class="p-6 border-b border-gray-100 dark:border-dark-100">
                        <h3 class="font-serif text-xl font-bold mb-2 text-gray-900 dark:text-white">智能体架构演进</h3>
                        <p class="text-gray-600 dark:text-gray-400 text-sm">
                            从简单 RAG 到集成 MCP 的多智能体系统，智能体架构的复杂度和能力不断提升
                        </p>
                    </div>
                    <div class="p-6 overflow-hidden" id="agent-evolution-svg">
                        <svg class="w-full" viewBox="0 0 800 500" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <!-- 背景 -->
                            <rect width="800" height="500" fill="none"/>
                            
                            <!-- 阶段标题 -->
                            <text x="120" y="60" fill="currentColor" class="text-primary-600 dark:text-primary-400 font-bold text-lg">阶段一: 简单 RAG 智能体</text>
                            <text x="400" y="60" fill="currentColor" class="text-primary-600 dark:text-primary-400 font-bold text-lg">阶段二: 多智能体协作</text>
                            <text x="680" y="60" fill="currentColor" class="text-primary-600 dark:text-primary-400 font-bold text-lg">阶段三: 集成 MCP</text>
                            
                            <!-- 连接箭头 -->
                            <path d="M240 250 L320 250" stroke="currentColor" class="text-primary-400 dark:text-primary-600" stroke-width="3" stroke-dasharray="10 5" />
                            <path d="M320 245 L310 250 L320 255" fill="none" stroke="currentColor" class="text-primary-400 dark:text-primary-600" stroke-width="3" />
                            
                            <path d="M560 250 L640 250" stroke="currentColor" class="text-primary-400 dark:text-primary-600" stroke-width="3" stroke-dasharray="10 5" />
                            <path d="M640 245 L630 250 L640 255" fill="none" stroke="currentColor" class="text-primary-400 dark:text-primary-600" stroke-width="3" />
                            
                            <!-- 阶段一: 简单 RAG 智能体 -->
                            <g class="evolution-step-1">
                                <!-- LLM核心 -->
                                <circle cx="120" cy="250" r="80" fill="currentColor" class="text-primary-100 dark:text-primary-900/30" stroke="currentColor" class="text-primary-400 dark:text-primary-600" stroke-width="2"/>
                                <text x="120" y="250" text-anchor="middle" dominant-baseline="middle" fill="currentColor" class="text-primary-700 dark:text-primary-300 font-medium">LLM 核心</text>
                                
                                <!-- 知识库 -->
                                <rect x="80" y="120" width="80" height="40" rx="5" fill="currentColor" class="text-primary-50 dark:text-primary-900/20" stroke="currentColor" class="text-primary-300 dark:text-primary-700" stroke-width="2"/>
                                <text x="120" y="142" text-anchor="middle" dominant-baseline="middle" fill="currentColor" class="text-primary-700 dark:text-primary-300 font-medium" font-size="12">知识库</text>
                                
                                <!-- 连接线 -->
                                <path d="M120 160 L120 170" stroke="currentColor" class="text-primary-300 dark:text-primary-700" stroke-width="2"/>
                                <path d="M120 170 L120 170" fill="none" stroke="currentColor" class="text-primary-300 dark:text-primary-700" stroke-width="2" />
                            </g>
                            
                            <!-- 阶段二: 多智能体协作 -->
                            <g class="evolution-step-2">
                                <!-- 协调智能体 -->
                                <circle cx="400" cy="170" r="40" fill="currentColor" class="text-primary-100 dark:text-primary-900/30" stroke="currentColor" class="text-primary-400 dark:text-primary-600" stroke-width="2"/>
                                <text x="400" y="170" text-anchor="middle" dominant-baseline="middle" fill="currentColor" class="text-primary-700 dark:text-primary-300 font-medium" font-size="12">协调智能体</text>
                                
                                <!-- 实体智能体 -->
                                <circle cx="320" cy="250" r="35" fill="currentColor" class="text-secondary-100 dark:text-secondary-900/30" stroke="currentColor" class="text-secondary-400 dark:text-secondary-600" stroke-width="2"/>
                                <text x="320" y="240" text-anchor="middle" dominant-baseline="middle" fill="currentColor" class="text-secondary-700 dark:text-secondary-300 font-medium" font-size="10">实体与属性</text>
                                <text x="320" y="255" text-anchor="middle" dominant-baseline="middle" fill="currentColor" class="text-secondary-700 dark:text-secondary-300 font-medium" font-size="10">提取智能体</text>
                                
                                <!-- 关系智能体 -->
                                <circle cx="400" cy="310" r="35" fill="currentColor" class="text-secondary-100 dark:text-secondary-900/30" stroke="currentColor" class="text-secondary-400 dark:text-secondary-600" stroke-width="2"/>
                                <text x="400" y="300" text-anchor="middle" dominant-baseline="middle" fill="currentColor" class="text-secondary-700 dark:text-secondary-300 font-medium" font-size="10">关系与事件</text>
                                <text x="400" y="315" text-anchor="middle" dominant-baseline="middle" fill="currentColor" class="text-secondary-700 dark:text-secondary-300 font-medium" font-size="10">抽取智能体</text>
                                
                                <!-- 时间序列智能体 -->
                                <circle cx="480" cy="250" r="35" fill="currentColor" class="text-secondary-100 dark:text-secondary-900/30" stroke="currentColor" class="text-secondary-400 dark:text-secondary-600" stroke-width="2"/>
                                <text x="480" y="240" text-anchor="middle" dominant-baseline="middle" fill="currentColor" class="text-secondary-700 dark:text-secondary-300 font-medium" font-size="10">时间序列与</text>
                                <text x="480" y="255" text-anchor="middle" dominant-baseline="middle" fill="currentColor" class="text-secondary-700 dark:text-secondary-300 font-medium" font-size="10">治疗反应分析</text>
                                
                                <!-- 文献检索智能体 -->
                                <circle cx="480" cy="380" r="30" fill="currentColor" class="text-gray-100 dark:text-gray-800" stroke="currentColor" class="text-gray-400 dark:text-gray-600" stroke-width="2" stroke-dasharray="4 2"/>
                                <text x="480" y="375" text-anchor="middle" dominant-baseline="middle" fill="currentColor" class="text-gray-700 dark:text-gray-300 font-medium" font-size="9">文献检索与</text>
                                <text x="480" y="390" text-anchor="middle" dominant-baseline="middle" fill="currentColor" class="text-gray-700 dark:text-gray-300 font-medium" font-size="9">知识增强</text>
                                
                                <!-- 知识库 -->
                                <rect x="360" y="380" width="80" height="30" rx="5" fill="currentColor" class="text-primary-50 dark:text-primary-900/20" stroke="currentColor" class="text-primary-300 dark:text-primary-700" stroke-width="2"/>
                                <text x="400" y="397" text-anchor="middle" dominant-baseline="middle" fill="currentColor" class="text-primary-700 dark:text-primary-300 font-medium" font-size="12">知识库</text>
                                
                                <!-- 连接线 -->
                                <path d="M400 210 L400 230 L320 230 L320 215" stroke="currentColor" class="text-primary-400 dark:text-primary-600" stroke-width="2" fill="none"/>
                                <path d="M400 210 L400 230 L480 230 L480 215" stroke="currentColor" class="text-primary-400 dark:text-primary-600" stroke-width="2" fill="none"/>
                                <path d="M400 210 L400 275" stroke="currentColor" class="text-primary-400 dark:text-primary-600" stroke-width="2" fill="none"/>
                                <path d="M480 285 L480 350" stroke="currentColor" class="text-gray-400 dark:text-gray-600" stroke-width="2" stroke-dasharray="4 2" fill="none"/>
                                <path d="M450 380 L440 380" stroke="currentColor" class="text-gray-400 dark:text-gray-600" stroke-width="2" stroke-dasharray="4 2" fill="none"/>
                            </g>
                            
                            <!-- 阶段三: 集成 MCP -->
                            <g class="evolution-step-3">
                                <!-- 协调智能体 -->
                                <circle cx="680" cy="170" r="40" fill="currentColor" class="text-primary-100 dark:text-primary-900/30" stroke="currentColor" class="text-primary-400 dark:text-primary-600" stroke-width="2"/>
                                <text x="680" y="170" text-anchor="middle" dominant-baseline="middle" fill="currentColor" class="text-primary-700 dark:text-primary-300 font-medium" font-size="12">协调智能体</text>
                                
                                <!-- 专家智能体 -->
                                <circle cx="600" cy="250" r="35" fill="currentColor" class="text-secondary-100 dark:text-secondary-900/30" stroke="currentColor" class="text-secondary-400 dark:text-secondary-600" stroke-width="2"/>
                                <text x="600" y="250" text-anchor="middle" dominant-baseline="middle" fill="currentColor" class="text-secondary-700 dark:text-secondary-300 font-medium" font-size="11">专家智能体</text>
                                
                                <circle cx="680" cy="250" r="35" fill="currentColor" class="text-secondary-100 dark:text-secondary-900/30" stroke="currentColor" class="text-secondary-400 dark:text-secondary-600" stroke-width="2"/>
                                <text x="680" y="250" text-anchor="middle" dominant-baseline="middle" fill="currentColor" class="text-secondary-700 dark:text-secondary-300 font-medium" font-size="11">专家智能体</text>
                                
                                <circle cx="760" cy="250" r="35" fill="currentColor" class="text-secondary-100 dark:text-secondary-900/30" stroke="currentColor" class="text-secondary-400 dark:text-secondary-600" stroke-width="2"/>
                                <text x="760" y="250" text-anchor="middle" dominant-baseline="middle" fill="currentColor" class="text-secondary-700 dark:text-secondary-300 font-medium" font-size="11">专家智能体</text>
                                
                                <!-- MCP 层 -->
                                <rect x="600" y="320" width="160" height="40" rx="5" fill="currentColor" class="text-green-100 dark:text-green-900/30" stroke="currentColor" class="text-green-500 dark:text-green-600" stroke-width="2"/>
                                <text x="680" y="342" text-anchor="middle" dominant-baseline="middle" fill="currentColor" class="text-green-700 dark:text-green-300 font-medium" font-size="14">MCP 层</text>
                                
                                <!-- 外部系统 -->
                                <rect x="600" y="400" width="60" height="40" rx="5" fill="currentColor" class="text-gray-100 dark:text-gray-800" stroke="currentColor" class="text-gray-400 dark:text-gray-600" stroke-width="2"/>
                                <text x="630" y="422" text-anchor="middle" dominant-baseline="middle" fill="currentColor" class="text-gray-700 dark:text-gray-300 font-medium" font-size="11">电子病历</text>
                                
                                <rect x="680" y="400" width="80" height="40" rx="5" fill="currentColor" class="text-gray-100 dark:text-gray-800" stroke="currentColor" class="text-gray-400 dark:text-gray-600" stroke-width="2"/>
                                <text x="720" y="422" text-anchor="middle" dominant-baseline="middle" fill="currentColor" class="text-gray-700 dark:text-gray-300 font-medium" font-size="11">实验室系统</text>
                                
                                <!-- 连接线 -->
                                <path d="M680 210 L680 230 L600 230 L600 215" stroke="currentColor" class="text-primary-400 dark:text-primary-600" stroke-width="2" fill="none"/>
                                <path d="M680 210 L680 215" stroke="currentColor" class="text-primary-400 dark:text-primary-600" stroke-width="2" fill="none"/>
                                <path d="M680 210 L680 230 L760 230 L760 215" stroke="currentColor" class="text-primary-400 dark:text-primary-600" stroke-width="2" fill="none"/>
                                
                                <path d="M600 285 L600 320" stroke="currentColor" class="text-green-500 dark:text-green-600" stroke-width="2" stroke-dasharray="4 2" fill="none"/>
                                <path d="M680 285 L680 320" stroke="currentColor" class="text-green-500 dark:text-green-600" stroke-width="2" stroke-dasharray="4 2" fill="none"/>
                                <path d="M760 285 L760 320" stroke="currentColor" class="text-green-500 dark:text-green-600" stroke-width="2" stroke-dasharray="4 2" fill="none"/>
                                
                                <path d="M630 360 L630 400" stroke="currentColor" class="text-green-500 dark:text-green-600" stroke-width="2" fill="none"/>
                                <path d="M720 360 L720 400" stroke="currentColor" class="text-green-500 dark:text-green-600" stroke-width="2" fill="none"/>
                            </g>
                            
                            <!-- 能力提升曲线 -->
                            <path class="flow-line text-primary-500 dark:text-primary-400" d="M40 450 L120 400 L400 280 L680 150" stroke="currentColor" stroke-width="3" fill="none"/>
                            
                            <!-- 能力提升标注 -->
                            <text x="30" y="470" fill="currentColor" class="text-gray-500 dark:text-gray-400 font-medium" font-size="12">基础能力</text>
                            <text x="700" y="150" fill="currentColor" class="text-gray-500 dark:text-gray-400 font-medium" font-size="12">高级能力</text>
                        </svg>
                    </div>
                </div>
                
                <!-- 智能体能力对比图 -->
                <div class="bg-white dark:bg-dark-200 rounded-xl shadow-lg overflow-hidden h-full">
                    <div class="p-6 border-b border-gray-100 dark:border-dark-100">
                        <h3 class="font-serif text-xl font-bold mb-2 text-gray-900 dark:text-white">智能体能力对比</h3>
                        <p class="text-gray-600 dark:text-gray-400 text-sm">
                            三种架构在不同能力维度上的表现对比
                        </p>
                    </div>
                    <div class="p-6">
                        <canvas id="capabilities-chart"></canvas>
                    </div>
                </div>
                
                <!-- 多智能体协作流程图 -->
                <div class="bg-white dark:bg-dark-200 rounded-xl shadow-lg overflow-hidden md:col-span-2">
                    <div class="p-6 border-b border-gray-100 dark:border-dark-100">
                        <h3 class="font-serif text-xl font-bold mb-2 text-gray-900 dark:text-white">多智能体协作流程</h3>
                        <p class="text-gray-600 dark:text-gray-400 text-sm">
                            集成 MCP 的多智能体系统工作流程，展示从文本输入到结构化输出的全过程
                        </p>
                    </div>
                    <div class="flow-chart-wrapper p-6 mb-6 overflow-auto">
                        <svg class="w-full" viewBox="0 0 900 320" xmlns="http://www.w3.org/2000/svg">
                            <!-- 背景 -->
                            <rect width="900" height="320" fill="none"/>
                            
                            <!-- 文本输入 -->
                            <rect x="10" y="140" width="100" height="40" rx="5" fill="currentColor" class="text-gray-100 dark:text-gray-800" stroke="currentColor" class="text-gray-400 dark:text-gray-500" stroke-width="2"/>
                            <text x="60" y="162" text-anchor="middle" dominant-baseline="middle" fill="currentColor" class="text-gray-700 dark:text-gray-300 font-medium">临床文本输入</text>
                            
                            <!-- 协调智能体 -->
                            <rect x="170" y="140" width="120" height="40" rx="20" fill="currentColor" class="text-primary-100 dark:text-primary-900/30" stroke="currentColor" class="text-primary-400 dark:text-primary-600" stroke-width="2"/>
                            <text x="230" y="162" text-anchor="middle" dominant-baseline="middle" fill="currentColor" class="text-primary-700 dark:text-primary-300 font-medium">协调智能体</text>
                            
                            <!-- MCP初始上下文获取 -->
                            <rect x="170" y="220" width="120" height="40" rx="5" fill="currentColor" class="text-green-100 dark:text-green-900/30" stroke="currentColor" class="text-green-500 dark:text-green-600" stroke-width="2"/>
                            <text x="230" y="235" text-anchor="middle" dominant-baseline="middle" fill="currentColor" class="text-green-700 dark:text-green-300 font-medium" font-size="11">MCP上下文获取</text>
                            <text x="230" y="250" text-anchor="middle" dominant-baseline="middle" fill="currentColor" class="text-green-700 dark:text-green-300 font-medium" font-size="10">(患者基线数据)</text>
                            
                            <!-- 医疗系统 -->
                            <rect x="170" y="50" width="120" height="40" rx="5" fill="currentColor" class="text-gray-100 dark:text-gray-800" stroke="currentColor" class="text-gray-400 dark:text-gray-500" stroke-width="2"/>
                            <text x="230" y="72" text-anchor="middle" dominant-baseline="middle" fill="currentColor" class="text-gray-700 dark:text-gray-300 font-medium">医院信息系统</text>
                            
                            <!-- 实体智能体 -->
                            <rect x="350" y="80" width="120" height="40" rx="20" fill="currentColor" class="text-secondary-100 dark:text-secondary-900/30" stroke="currentColor" class="text-secondary-400 dark:text-secondary-600" stroke-width="2"/>
                            <text x="410" y="95" text-anchor="middle" dominant-baseline="middle" fill="currentColor" class="text-secondary-700 dark:text-secondary-300 font-medium" font-size="11">实体与属性提取</text>
                            <text x="410" y="110" text-anchor="middle" dominant-baseline="middle" fill="currentColor" class="text-secondary-700 dark:text-secondary-300 font-medium" font-size="11">智能体</text>
                            
                            <!-- 关系智能体 -->
                            <rect x="350" y="140" width="120" height="40" rx="20" fill="currentColor" class="text-secondary-100 dark:text-secondary-900/30" stroke="currentColor" class="text-secondary-400 dark:text-secondary-600" stroke-width="2"/>
                            <text x="410" y="155" text-anchor="middle" dominant-baseline="middle" fill="currentColor" class="text-secondary-700 dark:text-secondary-300 font-medium" font-size="11">关系与事件抽取</text>
                            <text x="410" y="170" text-anchor="middle" dominant-baseline="middle" fill="currentColor" class="text-secondary-700 dark:text-secondary-300 font-medium" font-size="11">智能体</text>
                            
                            <!-- 时间序列智能体 -->
                            <rect x="350" y="200" width="120" height="40" rx="20" fill="currentColor" class="text-secondary-100 dark:text-secondary-900/30" stroke="currentColor" class="text-secondary-400 dark:text-secondary-600" stroke-width="2"/>
                            <text x="410" y="215" text-anchor="middle" dominant-baseline="middle" fill="currentColor" class="text-secondary-700 dark:text-secondary-300 font-medium" font-size="11">时间序列分析</text>
                            <text x="410" y="230" text-anchor="middle" dominant-baseline="middle" fill="currentColor" class="text-secondary-700 dark:text-secondary-300 font-medium" font-size="11">智能体</text>
                            
                            <!-- 实体交叉验证 -->
                            <rect x="520" y="80" width="120" height="40" rx="5" fill="currentColor" class="text-green-100 dark:text-green-900/30" stroke="currentColor" class="text-green-500 dark:text-green-600" stroke-width="2"/>
                            <text x="580" y="102" text-anchor="middle" dominant-baseline="middle" fill="currentColor" class="text-green-700 dark:text-green-300 font-medium" font-size="11">实体交叉验证</text>
                            
                            <!-- 知识增强 -->
                            <rect x="520" y="140" width="120" height="40" rx="5" fill="currentColor" class="text-green-100 dark:text-green-900/30" stroke="currentColor" class="text-green-500 dark:text-green-600" stroke-width="2"/>
                            <text x="580" y="155" text-anchor="middle" dominant-baseline="middle" fill="currentColor" class="text-green-700 dark:text-green-300 font-medium" font-size="11">外部工具调用</text>
                            <text x="580" y="170" text-anchor="middle" dominant-baseline="middle" fill="currentColor" class="text-green-700 dark:text-green-300 font-medium" font-size="11">(药物相互作用检查)</text>
                            
                            <!-- 多维证据评估 -->
                            <rect x="520" y="200" width="120" height="40" rx="5" fill="currentColor" class="text-green-100 dark:text-green-900/30" stroke="currentColor" class="text-green-500 dark:text-green-600" stroke-width="2"/>
                            <text x="580" y="215" text-anchor="middle" dominant-baseline="middle" fill="currentColor" class="text-green-700 dark:text-green-300 font-medium" font-size="11">多维证据评估</text>
                            <text x="580" y="230" text-anchor="middle" dominant-baseline="middle" fill="currentColor" class="text-green-700 dark:text-green-300 font-medium" font-size="11">(历史数据、趋势)</text>
                            
                            <!-- 整合与输出 -->
                            <rect x="690" y="140" width="120" height="40" rx="20" fill="currentColor" class="text-primary-100 dark:text-primary-900/30" stroke="currentColor" class="text-primary-400 dark:text-primary-600" stroke-width="2"/>
                            <text x="750" y="162" text-anchor="middle" dominant-baseline="middle" fill="currentColor" class="text-primary-700 dark:text-primary-300 font-medium">协调智能体</text>
                            
                            <!-- 结构化输出 -->
                            <rect x="860" y="140" width="30" height="40" rx="5" fill="currentColor" class="text-gray-100 dark:text-gray-800" stroke="currentColor" class="text-gray-400 dark:text-gray-500" stroke-width="2"/>
                            <text x="875" y="160" text-anchor="middle" dominant-baseline="middle" fill="currentColor" class="text-gray-700 dark:text-gray-300 font-medium" font-size="11" transform="rotate(90, 875, 160)">结构化JSON输出</text>
                            
                            <!-- 连接线 -->
                            <path d="M110 160 L170 160" stroke="currentColor" class="flow-line text-gray-400 dark:text-gray-500" stroke-width="2" marker-end="url(#arrow)"/>
                            
                            <path d="M230 140 L230 90" stroke="currentColor" class="flow-line text-primary-400 dark:text-primary-600" stroke-width="2" stroke-dasharray="4 2"/>
                            <path d="M230 180 L230 220" stroke="currentColor" class="flow-line text-primary-400 dark:text-primary-600" stroke-width="2" stroke-dasharray="4 2"/>
                            
                            <path d="M290 160 L320 160 L320 100 L350 100" stroke="currentColor" class="flow-line text-primary-400 dark:text-primary-600" stroke-width="2" marker-end="url(#arrow)"/>
                            <path d="M290 160 L350 160" stroke="currentColor" class="flow-line text-primary-400 dark:text-primary-600" stroke-width="2" marker-end="url(#arrow)"/>
                            <path d="M290 160 L320 160 L320 220 L350 220" stroke="currentColor" class="flow-line text-primary-400 dark:text-primary-600" stroke-width="2" marker-end="url(#arrow)"/>
                            
                            <path d="M470 100 L520 100" stroke="currentColor" class="flow-line text-secondary-400 dark:text-secondary-600" stroke-width="2" marker-end="url(#arrow)"/>
                            <path d="M470 160 L520 160" stroke="currentColor" class="flow-line text-secondary-400 dark:text-secondary-600" stroke-width="2" marker-end="url(#arrow)"/>
                            <path d="M470 220 L520 220" stroke="currentColor" class="flow-line text-secondary-400 dark:text-secondary-600" stroke-width="2" marker-end="url(#arrow)"/>
                            
                            <path d="M640 100 L660 100 L660 140 L690 140" stroke="currentColor" class="flow-line text-green-500 dark:text-green-600" stroke-width="2"/>
                            <path d="M640 160 L690 160" stroke="currentColor" class="flow-line text-green-500 dark:text-green-600" stroke-width="2"/>
                            <path d="M640 220 L660 220 L660 180 L690 180" stroke="currentColor" class="flow-line text-green-500 dark:text-green-600" stroke-width="2"/>
                            
                            <path d="M810 160 L860 160" stroke="currentColor" class="flow-line text-primary-400 dark:text-primary-600" stroke-width="2" marker-end="url(#arrow)"/>
                            
                            <!-- 箭头标记 -->
                            <defs>
                                <marker id="arrow" viewBox="0 0 10 10" refX="5" refY="5"
                                        markerWidth="5" markerHeight="5"
                                        orient="auto-start-reverse">
                                    <path d="M 0 0 L 10 5 L 0 10 z" fill="currentColor" class="text-primary-400 dark:text-primary-600"/>
                                </marker>
                            </defs>
                        </svg>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- 延伸阅读部分 -->
        <section id="further-reading" class="mb-16">
            <h2 class="font-serif text-3xl font-bold mb-10 text-gray-900 dark:text-white">延伸阅读</h2>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                <!-- 文献 1 -->
                <div class="bg-white dark:bg-dark-200 rounded-lg overflow-hidden shadow-md border border-gray-100 dark:border-dark-100 flex flex-col h-full">
                    <div class="p-5 flex-grow">
                        <div class="mb-3">
                            <span class="text-xs font-semibold uppercase tracking-wider text-primary-600 dark:text-primary-400 bg-primary-100 dark:bg-primary-900/30 py-1 px-2 rounded">论文</span>
                        </div>
                        <h3 class="font-serif text-lg font-bold mb-2 text-gray-900 dark:text-white">Large Language Models for Clinical Text: Retrieval Augmented Generation and Beyond</h3>
                        <p class="text-gray-600 dark:text-gray-400 text-sm mb-3">
                            由斯坦福大学医学院研究团队发表的综述，深入探讨了如何将检索增强生成技术应用于临床文本处理，系统总结了该领域的研究进展、技术挑战与未来方向。
                        </p>
                        <div class="text-sm text-gray-500 dark:text-gray-400">
                            <p><i class="fas fa-user-edit mr-1"></i> Sarah Johnson et al.</p>
                            <p><i class="fas fa-calendar-alt mr-1"></i> 2024</p>
                        </div>
                    </div>
                    <div class="p-5 border-t border-gray-100 dark:border-dark-100">
                        <a href="https://academic.oup.com/jamia" target="_blank" class="text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 font-medium inline-flex items-center transition">
                            <i class="fas fa-external-link-alt mr-2"></i>JAMIA (Journal of the American Medical Informatics Association)
                        </a>
                    </div>
                </div>
                
                <!-- 文献 2 -->
                <div class="bg-white dark:bg-dark-200 rounded-lg overflow-hidden shadow-md border border-gray-100 dark:border-dark-100 flex flex-col h-full">
                    <div class="p-5 flex-grow">
                        <div class="mb-3">
                            <span class="text-xs font-semibold uppercase tracking-wider text-primary-600 dark:text-primary-400 bg-primary-100 dark:bg-primary-900/30 py-1 px-2 rounded">专著</span>
                        </div>
                        <h3 class="font-serif text-lg font-bold mb-2 text-gray-900 dark:text-white">Multi-Agent Systems for Healthcare Applications: From Theory to Practice</h3>
                        <p class="text-gray-600 dark:text-gray-400 text-sm mb-3">
                            这本专著详细介绍了多智能体系统在医疗健康领域的设计、实现和应用。书中涵盖了智能体协作的理论框架、临床文本处理的实践案例以及多智能体系统与医院信息系统集成的方法。
                        </p>
                        <div class="text-sm text-gray-500 dark:text-gray-400">
                            <p><i class="fas fa-user-edit mr-1"></i> Michael Chen & David Rodriguez</p>
                            <p><i class="fas fa-calendar-alt mr-1"></i> 2023</p>
                        </div>
                    </div>
                    <div class="p-5 border-t border-gray-100 dark:border-dark-100">
                        <a href="https://mitpress.mit.edu/" target="_blank" class="text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 font-medium inline-flex items-center transition">
                            <i class="fas fa-external-link-alt mr-2"></i>MIT Press
                        </a>
                    </div>
                </div>
                
                <!-- 文献 3 -->
                <div class="bg-white dark:bg-dark-200 rounded-lg overflow-hidden shadow-md border border-gray-100 dark:border-dark-100 flex flex-col h-full">
                    <div class="p-5 flex-grow">
                        <div class="mb-3">
                            <span class="text-xs font-semibold uppercase tracking-wider text-primary-600 dark:text-primary-400 bg-primary-100 dark:bg-primary-900/30 py-1 px-2 rounded">研究报告</span>
                        </div>
                        <h3 class="font-serif text-lg font-bold mb-2 text-gray-900 dark:text-white">The MCP Protocol: Integrating AI Agents with Hospital Information Systems</h3>
                        <p class="text-gray-600 dark:text-gray-400 text-sm mb-3">
                            由Anthropic与多家医疗机构合作发布的技术白皮书，详细阐述了模型上下文协议(MCP)的设计理念、技术规范与安全标准。该报告还包含了多个真实案例研究，展示了MCP如何实现AI系统与医院信息系统的安全、高效集成。
                        </p>
                        <div class="text-sm text-gray-500 dark:text-gray-400">
                            <p><i class="fas fa-user-edit mr-1"></i> Anthropic Healthcare Team</p>
                            <p><i class="fas fa-calendar-alt mr-1"></i> 2024</p>
                        </div>
                    </div>
                    <div class="p-5 border-t border-gray-100 dark:border-dark-100">
                        <a href="https://www.anthropic.com/research" target="_blank" class="text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 font-medium inline-flex items-center transition">
                            <i class="fas fa-external-link-alt mr-2"></i>Anthropic Research
                        </a>
                    </div>
                </div>
                
                <!-- 文献 4 -->
                <div class="bg-white dark:bg-dark-200 rounded-lg overflow-hidden shadow-md border border-gray-100 dark:border-dark-100 flex flex-col h-full md:col-span-1.5">
                    <div class="p-5 flex-grow">
                        <div class="mb-3">
                            <span class="text-xs font-semibold uppercase tracking-wider text-secondary-600 dark:text-secondary-400 bg-secondary-100 dark:bg-secondary-900/30 py-1 px-2 rounded">实践指南</span>
                        </div>
                        <h3 class="font-serif text-lg font-bold mb-2 text-gray-900 dark:text-white">临床文本智能处理：从理论到实践的全面指南</h3>
                        <p class="text-gray-600 dark:text-gray-400 text-sm mb-3">
                            这本实用指南全面涵盖了临床文本智能处理的各个方面，从基础理论到实战技巧。特别关注了如何构建从简单RAG到复杂多智能体系统的渐进式开发路径，以及如何解决实际场景中的数据隐私、安全合规等关键问题。
                        </p>
                        <div class="text-sm text-gray-500 dark:text-gray-400">
                            <p><i class="fas fa-user-edit mr-1"></i> 张立新、李明哲等</p>
                            <p><i class="fas fa-calendar-alt mr-1"></i> 2024</p>
                        </div>
                    </div>
                    <div class="p-5 border-t border-gray-100 dark:border-dark-100">
                        <a href="https://www.springer.com/cn" target="_blank" class="text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 font-medium inline-flex items-center transition">
                            <i class="fas fa-external-link-alt mr-2"></i>Springer Healthcare
                        </a>
                    </div>
                </div>
                
                <!-- 文献 5 -->
                <div class="bg-white dark:bg-dark-200 rounded-lg overflow-hidden shadow-md border border-gray-100 dark:border-dark-100 flex flex-col h-full md:col-span-1.5">
                    <div class="p-5 flex-grow">
                        <div class="mb-3">
                            <span class="text-xs font-semibold uppercase tracking-wider text-secondary-600 dark:text-secondary-400 bg-secondary-100 dark:bg-secondary-900/30 py-1 px-2 rounded">技术论文</span>
                        </div>
                        <h3 class="font-serif text-lg font-bold mb-2 text-gray-900 dark:text-white">Computational Circuits for Medical Entity Recognition in Large Language Models</h3>
                        <p class="text-gray-600 dark:text-gray-400 text-sm mb-3">
                            这篇开创性论文深入研究了大型语言模型中与医学实体识别相关的计算回路(Computational Circuits)。作者通过机制解释学和干预实验，揭示了模型如何形成处理医学实体和关系的特定神经网络结构，以及如何通过优化这些结构来提升临床文本处理的准确性。
                        </p>
                        <div class="text-sm text-gray-500 dark:text-gray-400">
                            <p><i class="fas fa-user-edit mr-1"></i> Yao Wang et al.</p>
                            <p><i class="fas fa-calendar-alt mr-1"></i> 2023</p>
                        </div>
                    </div>
                    <div class="p-5 border-t border-gray-100 dark:border-dark-100">
                        <a href="https://arxiv.org/" target="_blank" class="text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 font-medium inline-flex items-center transition">
                            <i class="fas fa-external-link-alt mr-2"></i>arXiv Preprint
                        </a>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- 页脚 -->
    <footer class="bg-gray-50 dark:bg-dark-300 py-12 border-t border-gray-200 dark:border-dark-200">
        <div class="container mx-auto px-4 max-w-6xl">
            <div class="flex flex-col md:flex-row justify-between items-center">
                <div class="mb-6 md:mb-0">
                    <div class="flex items-center space-x-3 mb-2">
                        <svg class="w-8 h-8 text-primary-600 dark:text-primary-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 2a10 10 0 0 0-9.95 9h11.64L9.74 7.05a1 1 0 0 1 1.41-1.41l5.66 5.65a1 1 0 0 1 0 1.42l-5.66 5.65a1 1 0 0 1-1.41-1.41L13.69 13H2.05A10 10 0 1 0 12 2Z"/>
                        </svg>
                        <span class="font-serif text-lg font-bold">临床文本处理智能体系统</span>
                    </div>
                    <p class="text-gray-600 dark:text-gray-400 text-sm">
                        探索临床文本处理智能体的架构与实现方案，从简单RAG到集成MCP的多智能体系统
                    </p>
                </div>
                <div class="text-center md:text-right">
                    <p class="text-gray-700 dark:text-gray-300 font-medium">作者：季晓康</p>
                    <p class="text-gray-600 dark:text-gray-400 text-sm mb-2">微信公众号：凿壁</p>
                    <p class="text-gray-500 dark:text-gray-500 text-xs">© 国家健康医疗大数据研究院</p>
                </div>
            </div>
        </div>
    </footer>
    
    <!-- JavaScript 脚本 -->
    <script>
        // 主题切换功能
        document.addEventListener('DOMContentLoaded', function() {
            // 初始化主题
            if (localStorage.getItem('theme') === 'dark' || 
                (!localStorage.getItem('theme') && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
                document.documentElement.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark');
            }
            
            // 主题切换按钮
            const themeToggle = document.getElementById('theme-toggle');
            themeToggle.addEventListener('click', function() {
                if (document.documentElement.classList.contains('dark')) {
                    document.documentElement.classList.remove('dark');
                    localStorage.setItem('theme', 'light');
                } else {
                    document.documentElement.classList.add('dark');
                    localStorage.setItem('theme', 'dark');
                }
            });
            
            // 标签页切换功能
            const tabBtns = document.querySelectorAll('.result-tab-btn');
            const tabs = document.querySelectorAll('.result-tab');
            
            tabBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    const tabId = btn.getAttribute('data-tab');
                    
                    // 激活当前标签按钮
                    tabBtns.forEach(b => {
                        b.classList.remove('text-primary-600', 'dark:text-primary-400', 'border-primary-500', 'dark:border-primary-400');
                        b.classList.add('text-gray-500', 'dark:text-gray-400', 'border-transparent');
                    });
                    btn.classList.remove('text-gray-500', 'dark:text-gray-400', 'border-transparent');
                    btn.classList.add('text-primary-600', 'dark:text-primary-400', 'border-primary-500', 'dark:border-primary-400');
                    
                    // 显示当前标签内容
                    tabs.forEach(tab => {
                        tab.classList.add('hidden');
                    });
                    document.getElementById(tabId).classList.remove('hidden');
                });
            });
            
            // 初始化 GSAP 和 ScrollTrigger
            gsap.registerPlugin(ScrollTrigger);
            
            // 卡片动画
            gsap.from("#agent-card-1", {
                y: 50,
                opacity: 0,
                duration: 0.8,
                scrollTrigger: {
                    trigger: "#agent-card-1",
                    start: "top 80%",
                }
            });
            
            gsap.from("#agent-card-2", {
                y: 50,
                opacity: 0,
                duration: 0.8,
                delay: 0.2,
                scrollTrigger: {
                    trigger: "#agent-card-2",
                    start: "top 80%",
                }
            });
            
            gsap.from("#agent-card-3", {
                y: 50,
                opacity: 0,
                duration: 0.8,
                delay: 0.4,
                scrollTrigger: {
                    trigger: "#agent-card-3",
                    start: "top 80%",
                }
            });
            
            // SVG 流程图动画
            gsap.to(".flow-line", {
                strokeDashoffset: 0,
                duration: 2,
                ease: "power1.inOut",
                scrollTrigger: {
                    trigger: "#visualizations",
                    start: "top 70%",
                }
            });
            
            // 智能体能力对比图表
            const capabilitiesChart = new Chart(
                document.getElementById('capabilities-chart'),
                {
                    type: 'radar',
                    data: {
                        labels: [
                            '实体识别准确率',
                            '关系提取完整性',
                            '时序推理能力',
                            '否定信息处理',
                            '治疗反应评估',
                            '知识应用能力',
                            '可靠性与可控性'
                        ],
                        datasets: [
                            {
                                label: '简单RAG智能体',
                                data: [70, 50, 30, 40, 25, 60, 45],
                                fill: true,
                                backgroundColor: 'rgba(14, 165, 233, 0.2)',
                                borderColor: 'rgb(14, 165, 233)',
                                pointBackgroundColor: 'rgb(14, 165, 233)',
                                pointBorderColor: '#fff',
                                pointHoverBackgroundColor: '#fff',
                                pointHoverBorderColor: 'rgb(14, 165, 233)'
                            },
                            {
                                label: '多智能体协作系统',
                                data: [85, 80, 75, 85, 70, 80, 75],
                                fill: true,
                                backgroundColor: 'rgba(236, 72, 153, 0.2)',
                                borderColor: 'rgb(236, 72, 153)',
                                pointBackgroundColor: 'rgb(236, 72, 153)',
                                pointBorderColor: '#fff',
                                pointHoverBackgroundColor: '#fff',
                                pointHoverBorderColor: 'rgb(236, 72, 153)'
                            },
                            {
                                label: '集成MCP的多智能体系统',
                                data: [95, 90, 90, 95, 90, 95, 95],
                                fill: true,
                                backgroundColor: 'rgba(34, 197, 94, 0.2)',
                                borderColor: 'rgb(34, 197, 94)',
                                pointBackgroundColor: 'rgb(34, 197, 94)',
                                pointBorderColor: '#fff',
                                pointHoverBackgroundColor: '#fff',
                                pointHoverBorderColor: 'rgb(34, 197, 94)'
                            }
                        ]
                    },
                    options: {
                        elements: {
                            line: {
                                borderWidth: 3
                            }
                        },
                        scales: {
                            r: {
                                angleLines: {
                                    display: true,
                                    color: 'rgba(100, 116, 139, 0.2)'
                                },
                                suggestedMin: 0,
                                suggestedMax: 100,
                                ticks: {
                                    backdropColor: 'transparent',
                                    color: document.documentElement.classList.contains('dark') ? 'rgba(148, 163, 184, 1)' : 'rgba(71, 85, 105, 1)',
                                },
                                grid: {
                                    color: document.documentElement.classList.contains('dark') ? 'rgba(71, 85, 105, 0.2)' : 'rgba(203, 213, 225, 0.5)',
                                },
                                pointLabels: {
                                    color: document.documentElement.classList.contains('dark') ? 'rgba(203, 213, 225, 1)' : 'rgba(71, 85, 105, 1)',
                                    font: {
                                        size: 11
                                    }
                                }
                            }
                        },
                        plugins: {
                            legend: {
                                position: 'bottom',
                                labels: {
                                    padding: 20,
                                    boxWidth: 15,
                                    color: document.documentElement.classList.contains('dark') ? 'rgba(203, 213, 225, 1)' : 'rgba(71, 85, 105, 1)',
                                }
                            }
                        }
                    },
                }
            );
            
            // 在主题切换时更新图表颜色
            themeToggle.addEventListener('click', function() {
                const isDark = document.documentElement.classList.contains('dark');
                
                capabilitiesChart.options.scales.r.ticks.color = isDark ? 'rgba(148, 163, 184, 1)' : 'rgba(71, 85, 105, 1)';
                capabilitiesChart.options.scales.r.grid.color = isDark ? 'rgba(71, 85, 105, 0.2)' : 'rgba(203, 213, 225, 0.5)';
                capabilitiesChart.options.scales.r.pointLabels.color = isDark ? 'rgba(203, 213, 225, 1)' : 'rgba(71, 85, 105, 1)';
                capabilitiesChart.options.plugins.legend.labels.color = isDark ? 'rgba(203, 213, 225, 1)' : 'rgba(71, 85, 105, 1)';
                
                capabilitiesChart.update();
            });
        });
    </script>
</body>
</html>